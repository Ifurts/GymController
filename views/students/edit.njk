{% extends "layout.njk" %}
{% block head %}
    <title>Edit profile</title>
{% endblock head %}
{% block content %}



    <div class="card">
        <section class="avatar" style="background: url({{student.avatar_url}}) no-repeat center center / cover">
        </section>
           
        <section class="details">

            <form action="/students?_method=PUT" method="POST">
        
                <h3>Edit Student profile</h3>

                {% include 'students/fields.njk'%}

                <input type="hidden" name="id" value="{{student.id}}">

            </form>

            <form id="form-delete" action="/students?_method=DELETE" method="POST">
                <input type="hidden" name="id" value="{{student.id}}">
                <button type="submit">Delete profile</button>
            </form>


            <script>
                
                const formDelete = document.querySelector("#form-delete")
                formDelete.addEventListener("submit", function(event) {
                    const confirmation = confirm("Do you really wish to delete your profile?")
                    if(!confirmation) {
                        event.preventDefault()
                    }
                })

            </script>

        </section>
    
    </div>

{% endblock content %}